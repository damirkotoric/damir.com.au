// https://codepen.io/justalever/pen/eRLJjz
$cubic: cubic-bezier(0.4, 0.01, 0.165, 0.99)
$menuItems: 6

.header
  +container
  overflow: hidden
  position: relative
  transition: all 0.3s ease-out
  transition-delay: 0.2s
  z-index: 100

  > div
    margin-top: 10px
    @media (min-width: $breakpoint_1)
      margin-top: 20px
    @media (min-width: $breakpoint_2)
      align-items: center
      display: flex
      justify-content: space-between
      padding: 0 20px
    @media (min-width: $breakpoint_3)
      padding: 0 60px 0 40px

  .-menu-opened &
    background: $color_secondary_50
    height: 100vh
    transition: all 0.3s ease-in
    transition-delay: 0.25s
    z-index: 100
    @media (prefers-color-scheme: dark)
      background: $color_grey_800

    &::before
      background: mix($color_primary_50, white, 20%)
      transition: background 0.5s ease-out
      transition-delay: 0.25s
      z-index: 0

.headerLogo
  display: inline-block
  height: 60px
  position: relative
  user-select: none
  width: 60px
  @media (min-width: $breakpoint_2)
    margin-left: 20px
  .-menu-opened &
    opacity: 0
    pointer-events: none
    transition-delay: 0s
    z-index: -1
  &:hover
    .headerLogoBox
      &:nth-child(1)
        background: $color_primary_700
      &:nth-child(2)
        background: $color_grey_300
      &:nth-child(3)
        background: $color_grey_200
  &:active
    transition: all 0.2s
    .headerLogoBox
      &:nth-child(1)
        transform: translateX(-50%) translateY(-50%) rotateX(45deg) rotateZ(-45deg) translateZ(10px)
        @media (min-width: $breakpoint_2)
          transform: translateX(-50%) translateY(-50%) rotateX(45deg) rotateZ(-45deg) translateZ(24px)
      &:nth-child(2)
        transform: translateX(-50%) translateY(-50%) rotateX(45deg) rotateZ(-45deg) translateZ(5px)
        @media (min-width: $breakpoint_2)
          transform: translateX(-50%) translateY(-50%) rotateX(45deg) rotateZ(-45deg) translateZ(9px)

.headerLogoBox
  border-radius: 6px
  height: 40px
  left: 50%
  margin-top: 10px
  position: absolute
  width: 40px
  top: 50%
  transition: all 0.5s
  @media (min-width: $breakpoint_2)
    height: 52px
    width: 52px
  &:nth-child(1)
    background: $color_primary_500
    align-items: center
    color: white
    display: flex
    font-size: 24px
    font-weight: 800
    justify-content: center
    line-height: 1
    transform: translateX(-50%) translateY(-50%) rotateX(45deg) rotateZ(-45deg) translateZ(20px)
    z-index: 3
    @media (prefers-color-scheme: dark)
      background: $color_primary_400
    span
      margin-left: 1px
      margin-top: -2px
    @media (min-width: $breakpoint_2)
      font-size: 32px
      transform: translateX(-50%) translateY(-50%) rotateX(45deg) rotateZ(-45deg) translateZ(22px)
  &:nth-child(2)
    background: $color_primary_200
    transform: translateX(-50%) translateY(-50%) rotateX(45deg) rotateZ(-45deg) translateZ(10px)
    z-index: 2
    @media (min-width: $breakpoint_2)
      transform: translateX(-50%) translateY(-50%) rotateX(45deg) rotateZ(-45deg) translateZ(10px)
  &:nth-child(3)
    background: $color_primary_100
    transform: translateX(-50%) translateY(-50%) rotateX(45deg) rotateZ(-45deg) translateZ(0)
    z-index: 1

.headerBurger
  -webkit-tap-highlight-color: transparent
  align-items: center
  cursor: pointer
  display: flex
  float: right
  height: 54px
  opacity: 0.2
  position: relative
  transform: rotate(0deg)
  transition: all 0.3s $cubic
  user-select: none
  width: 50px
  @media (min-width: $breakpoint_2)
    display: none
  .-menu-opened &
    transform: rotate(90deg) translateX(10px)
  .-jsReady &
    opacity: 1

.headerBurgerContainer
  width: 18px
  height: 8px
  position: relative
  display: block
  margin: 0 auto

.headerBurgerContainerBar
  width: 100%
  height: 2px
  display: block
  position: relative
  background: black
  transition: all 0.3s $cubic
  transition-delay: 0s
  @media (prefers-color-scheme: dark)
    background: white
  &.-topBar
    transform: translateY(0px) rotate(0deg)
  &.-btmBar
    transform: translateY(6px) rotate(0deg)
  .-menu-opened &
    transition: all 0.4s $cubic
    transition-delay: 0.2s
    &.-topBar
      transform: translateY(4px) rotate(45deg)
    &.-btmBar
      transform: translateY(2px) rotate(-45deg)

.headerMenu
  clear: both
  pointer-events: none
  position: absolute
  left: 0
  list-style: none
  top: 100px
  @media (min-width: $breakpoint_2)
    align-items: center
    display: flex
    pointer-events: auto
    position: relative
    right: inherit
    top: inherit
  .-menu-opened &
    pointer-events: auto

.headerMenuItem
  margin-top: 5px
  transform: scale(1.1) translateY(-20px)
  opacity: 0
  padding: 0px 48px 0
  position: relative
  transition: transform 0.3s $cubic, opacity 0.4s $cubic
  @media (min-width: $breakpoint_2)
    margin-top: 0
    opacity: 1
    padding: 0
    transform: scale(1) translateY(0)
  &.-active
    a
      color: black
      @media (prefers-color-scheme: dark)
        color: white

  .-menu-opened &
    transform: scale(1) translateY(0px)
    opacity: 1
    @for $i from 1 through $menuItems
      &:nth-child(#{$i})
        transition-delay: #{0.07 * $i + 0.2}s

  @for $i from 1 through $menuItems
    &:nth-child(#{$i})
      transition-delay: #{0.56 - $i * 0.07}s

  a
    display: block
    position: relative
    color: $color_grey_500
    text-decoration: none
    font-size: 22px
    letter-spacing: 0.03em
    line-height: 2.35
    font-weight: 700
    width: 100%
    @media (prefers-color-scheme: dark)
      color: $color_grey_300
    @media (min-width: $breakpoint_2)
      align-items: center
      display: flex
      font-size: 18px
      letter-spacing: 0.05em
      padding: 0 4px
      height: 100px
      padding: 0 20px
    &:hover
      color: black
      transition: color 0.2s
      @media (prefers-color-scheme: dark)
        color: white
    &:active
      color: black
      transition: none
